---
title: "[TOY] 가계부 만들기 7주차 : 다시 리팩토링 중"
excerpt: "과연 이번주에는 기본 기능 구현을 마무리 해볼 수 있을까?"

categories:
  - TOY
tags:
  - toy-project
  - money-manager
  - vanila-javascript

date: 2022-12-13
last_modified_at: 2022-12-18
---

<br><br>

> #### 이번주 주간 목표
>
> 이번엔 조금 더 유의미한 리팩토링 하기.<br>
> 함수를 하나의 목적에 맞게 모듈화하고 재사용성을 높여보자.<br>
> 정리가되면 남아있는 기능을 호로록 진행할 수 있지 않을까 😂
>
> 진도가 늘어져서 걱정이긴한데,<br>
> 좀 더 좋은 코드에 대한 고민도 의미가 있겠지 하며 한 주 더..

<br><br>

## 2022.12.14

#### 두번째 리팩토링

<span style="color: #e6e6e6">며칠동안 아파서 아무것도 할 수가 없었다.<br>
진짜... 공부도 마음만으론 할 수 없다 ㅠ 체력이 제일 중요!</span>

[깨끗한 함수란 무엇인가?]<br>
마침 클린코딩과 관련해서 영상들이 많이 보여서 틈틈이 봤다.<br>
클린코드 책도 구매했다. 공부할게 줄줄이 대기중 ㅎㅎ

![img01](https://user-images.githubusercontent.com/81657811/207490145-f38aafda-3c23-41bb-846b-628513cdbdd1.png)
_함수 이름부터 정리하기_

이제 코드들이 마구 얽혀있어서 정리가 쉽지 않다.<br>
그래서 일단 필요한 함수의 이름부터 정의해 쭉 적었다.<br>
함수가 해야하는 역할을 대략적으로 적어놓고, 연결되어야 하는 함수들을 연결시켰다.

하나의 함수가 하는 일을 명확히하면서 정리하니 저번보다 좀 더 유의미한 리팩터링이 되는 것 같다.<br>
필요한 역할을 정의하고 네이밍부터 신경쓰면 함수 내용을 자연스럽게 정리할 수 있다.

<br><br>

## 2022.12.15

드디어 두번째 [리팩토링] 완료!<br>
두개의 js파일에 애매하게 나뉘어 있던 것을 한 파일로 가져와서 쭉 정리했는데,<br>
다 서로 얽혀있는 함수들이다보니 파일을 어떻게 분리해서 정리할 수 있을지가 또 고민이다.

일단은 한개의 함수가 가지는 목적을 명확히하고 정리하니 막힌 기능 구현도 자연스럽게 해결됐다.

개발하면서 가장 어려운 부분이 좋은 네이밍을 하는 것이라 하던데<br>
이제 진짜 그 의미를 알 것 같다.<br>
딱 적절한 이름을 잘 찾아내면 코드 구현이 훨씬 자연스럽고 쉬워지는 경험을 하고 있다.

#### 예산 추가 버튼 기능 구현

로컬에 저장하는 데이터 객체에 section 속성을 추가하고 spend와 budget값을 가지도록 했다.<br>
list에도 budget 클래스를 추가해 동작이 구분될 수 있도록 했다.

예산 리스트는 다른 소비내역 리스트와 섞여서 들어가지만 텍스트가 파란색으로 잡혀야한다.<br>
이 부분때문에 카테고리, 타이틀, 금액을 각각 잡아서 스타일 클래스를 추가하려 했으나<br>
리스트를 생성하는 함수에서 template로 만들어 innerHTML하는 부분이라<br>
각 세부 요소를 잡아오기가 애매했다.

![img02](https://user-images.githubusercontent.com/81657811/207796898-e7619417-deaf-45b7-88ee-a6a5c65f11fb.png)

그래서 blueTemplate를 만들어 조건에 따라 innerHTML되도록했는데..<br>
이 방법이 괜찮은건지 아직 판단은 안된다 ㅎ

#### 리스트 수정 및 삭제 기능 구현

target list의 index를 잡아와서, 해당 index 자료를 replace하거나 remove 해야하 지 않을까?

#### setting 아이콘 버튼 기능 구현

아이콘 클릭 시 setting 페이지가 다시 열리고 초기 셋팅값을 바꿀 수 있게 하려고 한다.

지금은 예산추가 기능을 이용해 리스트를 만들면서 초기 budget 설정값이 변형되었는데,<br>
innitial budget data를 별도로 저장해두어야 할 것 같다.

#### GNB 메뉴 구현

GNB는 메뉴 패널만 띄우고 준비중 페이지까지만 띄워보는 것으로..<br>
진짜 기능들은 react로 다시 만들면서 구현해봐야겠다.

<br><br>

- 월이 바뀌어도 설정한 소비기간 마지막 날까지 데이터 유지
- 설정한 소비기간이 끝나고 다음 텀으로 넘어가면 기록은 별도 저장, 소비내역 리셋<br>
  but 소비 통계 등 새로운 디자인과 기능 기획 필요

[깨끗한 함수란 무엇인가?]: https://youtu.be/D2PGGUy91jk
[리팩토링]: https://github.com/yojessie/momey-manager/blob/main/js/spend.js
